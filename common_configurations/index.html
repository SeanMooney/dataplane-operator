
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="OpenStack Data Plane Operator">
      
      
        <meta name="author" content="OpenStack Team">
      
      
        <link rel="canonical" href="https://openstack-k8s-operators.github.io/dataplane-operator/common_configurations/">
      
      
        <link rel="prev" href="../composable_services/">
      
      
        <link rel="next" href="../interacting_with_ansible/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.19">
    
    
      
        <title>Common Configurations - OpenStack Data Plane Operator</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#common-configurations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="OpenStack Data Plane Operator" class="md-header__button md-logo" aria-label="OpenStack Data Plane Operator" data-md-component="logo">
      
  <img src="../images/openstack-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            OpenStack Data Plane Operator
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Common Configurations
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/openstack-k8s-operators/dataplane-operator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    openstack-k8s-operators/dataplane-operator
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="OpenStack Data Plane Operator" class="md-nav__button md-logo" aria-label="OpenStack Data Plane Operator" data-md-component="logo">
      
  <img src="../images/openstack-logo.png" alt="logo">

    </a>
    OpenStack Data Plane Operator
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/openstack-k8s-operators/dataplane-operator" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    openstack-k8s-operators/dataplane-operator
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Custom Resources
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Custom Resources
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openstack_dataplane/" class="md-nav__link">
        OpenStackDataPlane
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openstack_dataplanenode/" class="md-nav__link">
        OpenStackDataPlaneNode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openstack_dataplanerole/" class="md-nav__link">
        OpenStackDataPlaneRole
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../openstack_dataplaneservice/" class="md-nav__link">
        OpenStackDataPlaneService
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../design/" class="md-nav__link">
        Design
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../inheritance/" class="md-nav__link">
        Inheritance
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Deploying a DataPlane
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Deploying a DataPlane
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deploying/" class="md-nav__link">
        Deploying a DataPlane
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../composable_services/" class="md-nav__link">
        Composable services
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Common Configurations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Common Configurations
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initial-bootstrap-command" class="md-nav__link">
    Initial bootstrap command
  </a>
  
    <nav class="md-nav" aria-label="Initial bootstrap command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-edpm_bootstrap_command-for-system-registration" class="md-nav__link">
    Using edpm_bootstrap_command for system registration
  </a>
  
    <nav class="md-nav" aria-label="Using edpm_bootstrap_command for system registration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#red-hat-customer-portal-registration" class="md-nav__link">
    Red Hat Customer Portal registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#red-hat-satellite-registration" class="md-nav__link">
    Red Hat Satellite registration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-isolation" class="md-nav__link">
    Network Isolation
  </a>
  
    <nav class="md-nav" aria-label="Network Isolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-networking-with-edpm_network_config" class="md-nav__link">
    Configuring networking with edpm_network_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-attachment-definitions" class="md-nav__link">
    Network attachment definitions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../interacting_with_ansible/" class="md-nav__link">
        Interacting with Ansible
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        Contributing
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initial-bootstrap-command" class="md-nav__link">
    Initial bootstrap command
  </a>
  
    <nav class="md-nav" aria-label="Initial bootstrap command">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-edpm_bootstrap_command-for-system-registration" class="md-nav__link">
    Using edpm_bootstrap_command for system registration
  </a>
  
    <nav class="md-nav" aria-label="Using edpm_bootstrap_command for system registration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#red-hat-customer-portal-registration" class="md-nav__link">
    Red Hat Customer Portal registration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#red-hat-satellite-registration" class="md-nav__link">
    Red Hat Satellite registration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#network-isolation" class="md-nav__link">
    Network Isolation
  </a>
  
    <nav class="md-nav" aria-label="Network Isolation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-networking-with-edpm_network_config" class="md-nav__link">
    Configuring networking with edpm_network_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-attachment-definitions" class="md-nav__link">
    Network attachment definitions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="common-configurations">Common Configurations<a class="headerlink" href="#common-configurations" title="Permanent link">#</a></h1>
<p>This page documents some of the common configurations that can be enabled
through ansible variables.  The ansible variables that affect the configuration
of the ansible executions are set in the <code>ansibleVars</code> field on the dataplane
resources.</p>
<p>The full set of ansible variables available for configuration are documented
within each role in the
<a href="https://github.com/openstack-k8s-operators/edpm-ansible/tree/main/roles">edpm-ansible</a>
repository.</p>
<h2 id="initial-bootstrap-command">Initial bootstrap command<a class="headerlink" href="#initial-bootstrap-command" title="Permanent link">#</a></h2>
<p><strong>Variable</strong>: <code>edpm_bootstrap_command</code>
<strong>Type</strong>: <code>string</code>
<strong>Role</strong>: <a href="https://github.com/openstack-k8s-operators/edpm-ansible/tree/main/roles/edpm_bootstrap">edpm_bootstrap</a></p>
<p>The <code>edpm_bootstrap_command</code> variable can be used to pass a shell command(s) that
will be executed as early as possible in the deployment as part of the
<code>configure-network</code> service. If the <code>services</code> list is customized with services
that execute prior to <code>configure-network</code> then the command(s) specified by
<code>edpm_bootstrap_command</code> would run after the custom services.</p>
<h3 id="using-edpm_bootstrap_command-for-system-registration">Using <code>edpm_bootstrap_command</code> for system registration<a class="headerlink" href="#using-edpm_bootstrap_command-for-system-registration" title="Permanent link">#</a></h3>
<p><code>edpm_bootstrap_command</code> can be used to perform system registration in order to
enable needed package repositories. Choose a registration method (either Portal
or Satellite) and refer to the provided links below for instructions to create
the registration commands.</p>
<h4 id="red-hat-customer-portal-registration">Red Hat Customer Portal registration<a class="headerlink" href="#red-hat-customer-portal-registration" title="Permanent link">#</a></h4>
<p>The registration commands for the Red Hat Customer Portal are documented at
<a href="https://access.redhat.com/solutions/253273">https://access.redhat.com/solutions/253273</a>.</p>
<h4 id="red-hat-satellite-registration">Red Hat Satellite registration<a class="headerlink" href="#red-hat-satellite-registration" title="Permanent link">#</a></h4>
<p>The registration commands for Red Hat Satellite version 6.13 are documented at
<a href="https://access.redhat.com/documentation/en-us/red_hat_satellite/6.13/html-single/managing_hosts/index#Registering_Hosts_to_Server_managing-hosts">https://access.redhat.com/documentation/en-us/red_hat_satellite/6.13/html-single/managing_hosts/index#Registering_Hosts_to_Server_managing-hosts</a>.</p>
<p>If not using Satellite version 6.13, then refer to the specific version of the
documentation for the version of Satellite that is in use.</p>
<h2 id="network-isolation">Network Isolation<a class="headerlink" href="#network-isolation" title="Permanent link">#</a></h2>
<p>Network Isolation refers to the practice of separating network traffic by
function, and configuring the networks on dataplane nodes. Nodes will need
connectivity to various control plane services running on OCP. These services
may be bound to different networks. Each of those networks needs to be
configured as required on dataplane nodes.</p>
<p>For further details on the network architecture of the control plane, see
<a href="https://github.com/openstack-k8s-operators/docs/blob/main/networking.md">https://github.com/openstack-k8s-operators/docs/blob/main/networking.md</a>.</p>
<h3 id="configuring-networking-with-edpm_network_config">Configuring networking with edpm_network_config<a class="headerlink" href="#configuring-networking-with-edpm_network_config" title="Permanent link">#</a></h3>
<p>The
<a href="https://github.com/openstack-k8s-operators/edpm-ansible/tree/main/roles/edpm_network_config">edpm_network_config</a>
ansible role is responsible for configuring networking on dataplane nodes.</p>
<p>The <code>edpm_network_config_template</code> variable specifies the path to an ansible
template that describes the networking configuration to be applied. The
template itself also contains variables that can be used to customize the
networking configuration for a specific node (IP addresses, interface names,
routes, etc). Templates provided with the edpm_network_config role are at
<a href="https://github.com/openstack-k8s-operators/edpm-ansible/tree/main/roles/edpm_network_config/templates">https://github.com/openstack-k8s-operators/edpm-ansible/tree/main/roles/edpm_network_config/templates</a>.</p>
<p>Custom templates can also be used, but they must be avaialable to ansible in
the ansible-runner image used by the <code>configure-network</code> service. Use the
<a href="../composable_services/#using-extramounts"><code>ExtraMounts</code></a> field to mount custom
content into the ansible-runner image.</p>
<p>The following is an example
<a href="http://127.0.0.1:8000/dataplane-operator/openstack_dataplanerole/#nodesection"><code>ansibleVars</code></a>
field that shows defining the variables that configure the
<code>edpm_network_config</code> role.</p>
<pre><code>ansibleVars:
  edpm_network_config_template: templates/single_nic_vlans/single_nic_vlans.j2
  ctlplane_ip: 192.168.122.100
  internal_api_ip: 172.17.0.100
  storage_ip: 172.18.0.100
  tenant_ip: 172.19.0.100
  fqdn_internal_api: edpm-compute-0.example.com
</code></pre>
<p>This configuration would be applied by the
<a href="../composable_services/#dataplane-operator-provided-services"><code>configure-network</code></a> service when
it's executed.</p>
<h3 id="network-attachment-definitions">Network attachment definitions<a class="headerlink" href="#network-attachment-definitions" title="Permanent link">#</a></h3>
<p>The
<a href="https://github.com/openstack-k8s-operators/docs/blob/main/networking.md#network-attachment-definitions"><code>NetworkAttachmentDefinition</code></a> resource is used to describe how pods can be attached to different networks. Network attachment definitions can be specified on the <a href="../openstack_dataplanerole/"><code>OpenStackDataPlaneRole</code></a> and <a href="../openstack_dataplanenode/"><code>OpenStackDataPlaneNode</code></a> resources using the <code>NetworkAttachments</code> field.</p>
<p>The network attachments are used to describe which networks will be connected
to the pod that is running ansible-runner. They do not enable networks on the
dataplane nodes themselves. For example, adding the <code>internalapi</code> network
attachment to <code>NetworkAttachments</code> means the ansible-runner pod will be
connected to the <code>internalapi</code> network. This can enable scenarios where ansible
needs to connect to different networks.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2023-07-04
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "search.share"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>